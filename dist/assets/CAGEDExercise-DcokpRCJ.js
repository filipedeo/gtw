import{u as I,c as $,d as q,r as l,n as z,s as k,j as e,F as L,i as w,f as Y,h as _}from"./index-C8A4Ktcn.js";import{D as J}from"./DisplayModeToggle-DWUUreXa.js";import"./tone-BDbzsNEa.js";const v={C:{name:"C Shape",description:"Based on the open C chord. Root on the 5th (A) string. Requires a stretch when barred.",rootString:1,baseKey:"C",chordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:-1},{string:3,fretOffset:-3},{string:4,fretOffset:-2},{string:5,fretOffset:-3}],scalePattern:[[0,-3],[0,-2],[1,-3],[1,-1],[1,0],[2,-3],[2,-1],[2,0],[3,-3],[3,-1],[3,1],[4,-3],[4,-2],[4,0],[5,-3],[5,-2],[5,0]]},A:{name:"A Shape",description:"Based on the open A chord. Root on the 5th (A) string. Most common barre shape.",rootString:1,baseKey:"A",chordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:2},{string:3,fretOffset:2},{string:4,fretOffset:2},{string:5,fretOffset:0}],scalePattern:[[0,0],[0,2],[0,4],[1,0],[1,2],[1,4],[2,0],[2,2],[2,4],[3,1],[3,2],[3,4],[4,0],[4,2],[4,3],[5,0],[5,2],[5,4]]},G:{name:"G Shape",description:"Based on the open G chord. Root on the 6th (low E) string. Requires stretching.",rootString:0,baseKey:"G",chordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:-1},{string:2,fretOffset:-3},{string:3,fretOffset:-3},{string:4,fretOffset:-3},{string:5,fretOffset:0}],scalePattern:[[0,-3],[0,-1],[0,0],[1,-3],[1,-1],[1,0],[2,-3],[2,-1],[2,1],[3,-3],[3,-1],[3,1],[4,-3],[4,-2],[4,0],[5,-3],[5,-1],[5,0]]},E:{name:"E Shape",description:"Based on the open E chord. Root on the 6th (low E) string. The most common barre chord.",rootString:0,baseKey:"E",chordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:2},{string:2,fretOffset:2},{string:3,fretOffset:1},{string:4,fretOffset:0},{string:5,fretOffset:0}],scalePattern:[[0,0],[0,2],[0,4],[1,0],[1,2],[1,4],[2,1],[2,2],[2,4],[3,1],[3,2],[3,4],[4,0],[4,2],[4,4],[5,0],[5,2],[5,4]]},D:{name:"D Shape",description:"Based on the open D chord. Root on the 4th (D) string. Great for higher voicings.",rootString:2,baseKey:"D",chordPositions:[{string:2,fretOffset:0},{string:3,fretOffset:2},{string:4,fretOffset:3},{string:5,fretOffset:2}],scalePattern:[[1,0],[1,2],[1,4],[2,0],[2,2],[2,4],[3,0],[3,2],[3,4],[4,0],[4,2],[4,3],[5,0],[5,2],[5,3]]}},x=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],W=({exercise:d})=>{const{stringCount:u,setHighlightedPositions:g,setSecondaryHighlightedPositions:m,setRootNote:O,clearHighlights:D}=I(),{droneConfig:E,setDroneConfig:G,isDroneActive:p,setDroneActive:y}=$(),{isActive:S}=q(),C=u===7?1:0,[r,f]=l.useState("C"),[a,R]=l.useState("C"),[b,K]=l.useState(!0),[j,M]=l.useState(!1),[N,B]=l.useState(!0);l.useEffect(()=>{d.id.includes("caged-1")?f("C"):d.id.includes("caged-2")?f("A"):d.id.includes("caged-3")?f("G"):d.id.includes("caged-4")?f("E"):d.id.includes("caged-5")&&f("D")},[d.id]);const F=()=>{const t=v[r],h=x.indexOf(a),i=x.indexOf(t.baseKey),o=(h-i+12)%12;let s=0;return r==="C"&&(s=3),r==="G"&&(s=3),s+o};l.useEffect(()=>{if(!S)return;const t=v[r],h=F(),i=[],o=[];if(t.chordPositions.forEach(s=>{const c=h+s.fretOffset,n=s.string+C;c>=0&&c<=22&&n<u&&i.push({string:n,fret:c})}),t.scalePattern.forEach(([s,c])=>{const n=h+c,A=s+C;n>=0&&n<=22&&A<u&&o.push({string:A,fret:n})}),b&&j){g(i);const s=o.filter(c=>!i.some(n=>n.string===c.string&&n.fret===c.fret));m(s)}else b?(g(i),m([])):j?(g(o),m([])):(g([]),m([]));O(N?z(a):null)},[r,a,b,j,N,S,g,m,O,C,u]),l.useEffect(()=>()=>{D(),p&&(k(),y(!1))},[D,p,y]);const T=async()=>{await w(),p?(k(),y(!1)):(G({note:a,octave:2}),Y({note:a,octave:2,volume:E.volume,waveform:E.waveform}),y(!0))},H=async()=>{await w();const t=48+x.indexOf(a),h=t+4,i=t+7,o=s=>`${x[s%12]}${Math.floor(s/12)-1}`;_([o(t),o(h),o(i)],{duration:2,velocity:.6})};if(!S)return e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("p",{style:{color:"var(--text-secondary)"},className:"mb-4",children:['Click "Start Exercise" to explore the ',v[r]?.name||"CAGED"," shape."]}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Learn chord shapes and scale patterns across the fretboard."})]});const P=v[r];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"CAGED Shape"}),e.jsx("div",{className:"flex gap-2",children:["C","A","G","E","D"].map(t=>e.jsx("button",{onClick:()=>f(t),className:`flex-1 py-2 rounded-lg font-bold transition-all ${r===t?"btn-primary":""}`,style:r!==t?{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"}:{},children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key"}),e.jsx("select",{value:a,onChange:t=>R(t.target.value),className:"w-full px-3 py-2 rounded-lg",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)"},children:x.map(t=>e.jsxs("option",{value:t,children:[t," Major"]},t))})]})]}),e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("h4",{className:"font-medium mb-2",style:{color:"var(--accent-primary)"},children:[P.name," - ",a," Major"]}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:P.description})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:t=>K(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show Chord"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:t=>M(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show Scale"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:t=>B(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Highlight Roots"})]}),e.jsx(J,{})]}),e.jsx("div",{className:"card p-4",children:e.jsx(L,{interactive:!0})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:T,className:p?"btn-danger":"btn-success",children:p?"‚èπ Stop Drone":"‚ñ∂ Play Drone"}),e.jsx("button",{onClick:H,className:"btn-secondary",children:"üéµ Play Chord"})]}),e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text-primary)"},children:"Practice Tips"}),e.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",style:{color:"var(--text-secondary)"},children:[e.jsx("li",{children:"Play the chord shape first, then find the scale notes around it"}),e.jsx("li",{children:"Identify the Root (red), 3rd, and 5th within the shape"}),e.jsx("li",{children:"Practice transitioning to the next CAGED shape up the neck"}),e.jsx("li",{children:"Try improvising using only notes within this position"}),e.jsx("li",{children:"Say the note names aloud as you play"})]})]})]})};export{W as default};
