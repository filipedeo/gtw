import{u as V,d as O,r as i,n as $,j as s,F as H,i as L,h as Y}from"./index-CaEio-N4.js";import{D as z}from"./DisplayModeToggle-G3aLmAKp.js";import"./tone-xN27a9Rt.js";const q=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],J=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],k={maj7:{name:"Major 7th",inversions:[{name:"Root Position",positions:[[2,0],[3,0],[4,0],[5,2]],intervals:["5","R","3","M7"]},{name:"1st Inversion",positions:[[2,1],[3,1],[4,0],[5,0]],intervals:["M7","3","5","R"]},{name:"2nd Inversion",positions:[[2,0],[3,2],[4,2],[5,2]],intervals:["R","5","M7","3"]},{name:"3rd Inversion",positions:[[2,1],[3,3],[4,0],[5,2]],intervals:["3","M7","R","5"]}]},min7:{name:"Minor 7th",inversions:[{name:"Root Position",positions:[[2,0],[3,0],[4,-1],[5,1]],intervals:["5","R","b3","b7"]},{name:"1st Inversion",positions:[[2,0],[3,0],[4,0],[5,0]],intervals:["b7","b3","5","R"]},{name:"2nd Inversion",positions:[[2,0],[3,2],[4,1],[5,1]],intervals:["R","5","b7","b3"]},{name:"3rd Inversion",positions:[[2,0],[3,2],[4,0],[5,2]],intervals:["b3","b7","R","5"]}]},dom7:{name:"Dominant 7th",inversions:[{name:"Root Position",positions:[[2,0],[3,0],[4,0],[5,1]],intervals:["5","R","3","b7"]},{name:"1st Inversion",positions:[[2,0],[3,1],[4,0],[5,0]],intervals:["b7","3","5","R"]},{name:"2nd Inversion",positions:[[2,0],[3,2],[4,1],[5,2]],intervals:["R","5","b7","3"]},{name:"3rd Inversion",positions:[[2,1],[3,2],[4,0],[5,2]],intervals:["3","b7","R","5"]}]}},g={major:{name:"Major Triad",stringSets:[{label:"D-G-B",inversions:[{name:"Root Position",positions:[[2,2],[3,1],[4,0]],intervals:["R","3","5"]},{name:"1st Inversion",positions:[[2,2],[3,0],[4,1]],intervals:["3","5","R"]},{name:"2nd Inversion",positions:[[2,0],[3,0],[4,0]],intervals:["5","R","3"]}]},{label:"G-B-E",inversions:[{name:"Root Position",positions:[[3,2],[4,2],[5,0]],intervals:["R","3","5"]},{name:"1st Inversion",positions:[[3,1],[4,0],[5,0]],intervals:["3","5","R"]},{name:"2nd Inversion",positions:[[3,0],[4,1],[5,0]],intervals:["5","R","3"]}]},{label:"A-D-G",inversions:[{name:"Root Position",positions:[[1,2],[2,1],[3,-1]],intervals:["R","3","5"]},{name:"1st Inversion",positions:[[1,2],[2,0],[3,0]],intervals:["3","5","R"]},{name:"2nd Inversion",positions:[[1,0],[2,0],[3,-1]],intervals:["5","R","3"]}]}]},minor:{name:"Minor Triad",stringSets:[{label:"D-G-B",inversions:[{name:"Root Position",positions:[[2,2],[3,0],[4,0]],intervals:["R","b3","5"]},{name:"1st Inversion",positions:[[2,1],[3,0],[4,1]],intervals:["b3","5","R"]},{name:"2nd Inversion",positions:[[2,1],[3,1],[4,0]],intervals:["5","R","b3"]}]},{label:"G-B-E",inversions:[{name:"Root Position",positions:[[3,2],[4,1],[5,0]],intervals:["R","b3","5"]},{name:"1st Inversion",positions:[[3,1],[4,1],[5,1]],intervals:["b3","5","R"]},{name:"2nd Inversion",positions:[[3,0],[4,1],[5,-1]],intervals:["5","R","b3"]}]},{label:"A-D-G",inversions:[{name:"Root Position",positions:[[1,2],[2,0],[3,-1]],intervals:["R","b3","5"]},{name:"1st Inversion",positions:[[1,1],[2,0],[3,0]],intervals:["b3","5","R"]},{name:"2nd Inversion",positions:[[1,0],[2,0],[3,-2]],intervals:["5","R","b3"]}]}]}},X=({exercise:r})=>{const{setHighlightedPositions:y,clearHighlights:j,setRootNote:f,stringCount:D}=V(),R={6:[40,45,50,55,59,64],7:[35,40,45,50,55,59,64]},E=R[D]||R[6],{isActive:x}=O(),[v,G]=i.useState("C"),[t,l]=i.useState("maj7"),[c,u]=i.useState(0),[d,I]=i.useState(0),[m,M]=i.useState(5),o=t==="major"||t==="minor";i.useEffect(()=>{r.id.includes("chord-1")?l("maj7"):r.id.includes("chord-2")?l("min7"):r.id.includes("chord-3")?l("dom7"):r.id.includes("chord-4")?l("major"):r.id.includes("chord-5")&&l("minor"),u(0),I(0)},[r.id]);const A=i.useCallback(()=>o?g[t].name:k[t].name,[t,o]),b=i.useCallback(()=>{if(o){const e=g[t];return e.stringSets[d]?.inversions||e.stringSets[0].inversions}return k[t].inversions},[t,o,d]),p=i.useCallback(()=>{const e=b();return e[c]||e[0]},[b,c]),F=i.useCallback(()=>o?g[t].stringSets:null,[t,o]);i.useEffect(()=>{if(!x)return;const n=p().positions.map(([a,h])=>({string:a,fret:m+h})).filter(a=>a.fret>=0&&a.fret<=22);y(n),f($(v))},[x,v,t,c,d,m,p,y,f]),i.useEffect(()=>()=>{j()},[j]);const T=async()=>{await L();const n=p().positions.map(([a,h])=>{const B=m+h,P=E[a]+B,_=J[P%12],K=Math.floor(P/12)-1;return`${_}${K}`});Y(n,{duration:2,velocity:.6})},N=A(),S=p(),w=b(),C=F();return x?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key"}),s.jsx("select",{value:v,onChange:e=>G(e.target.value),className:"w-full px-3 py-2 rounded-lg",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)"},children:q.map(e=>s.jsx("option",{value:e,children:e},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Root Fret"}),s.jsx("input",{type:"range",min:"1",max:"12",value:m,onChange:e=>M(parseInt(e.target.value)),className:"w-full"}),s.jsxs("div",{className:"text-center text-sm",style:{color:"var(--text-muted)"},children:["Fret ",m]})]})]}),C&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"String Set"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:C.map((e,n)=>s.jsx("button",{onClick:()=>{I(n),u(0)},className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${d===n?"btn-primary":""}`,style:d!==n?{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"}:{},children:e.label},e.label))})]}),s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[s.jsxs("h4",{className:"font-medium mb-2",style:{color:"var(--accent-primary)"},children:[v," ",N," - ",S.name]}),s.jsxs("div",{className:"flex gap-2 text-sm",style:{color:"var(--text-secondary)"},children:[s.jsx("span",{children:"Intervals:"}),S.intervals.map((e,n)=>s.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--bg-tertiary)"},children:e},n))]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Display:"}),s.jsx(z,{compact:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Inversion"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:w.map((e,n)=>s.jsx("button",{onClick:()=>u(n),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${c===n?"btn-primary":""}`,style:c!==n?{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"}:{},children:e.name},n))})]}),s.jsx("div",{className:"card p-4",children:s.jsx(H,{interactive:!0})}),s.jsx("div",{className:"flex gap-3",children:s.jsx("button",{onClick:T,className:"btn-primary flex items-center gap-2",children:"ðŸŽµ Play Chord"})}),s.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[s.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text-primary)"},children:"Practice Tips"}),s.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",style:{color:"var(--text-secondary)"},children:[s.jsx("li",{children:"Learn all inversions in one position before moving"}),s.jsx("li",{children:"Practice voice leading between inversions"}),o&&s.jsx("li",{children:"Compare the same inversion across different string sets"}),s.jsx("li",{children:"Connect inversions to create smooth chord progressions"}),s.jsx("li",{children:"Identify the root note in each inversion"}),s.jsx("li",{children:"Try playing ii-V-I progressions using these voicings"})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsxs("p",{style:{color:"var(--text-secondary)"},className:"mb-4",children:['Click "Start Exercise" to explore ',N," voicings."]}),s.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Learn Drop 2 voicings and triad inversions across the fretboard."})]})};export{X as default};
