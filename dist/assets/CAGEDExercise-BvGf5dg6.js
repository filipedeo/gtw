import{u as Q,c as U,d as V,r as f,n as W,s as F,j as e,F as X,i as B,f as Z,h as ee}from"./index-B3UTKWKW.js";import{D as te}from"./DisplayModeToggle-DIispu4g.js";import{P as se}from"./PracticeRating-BS5RI7Dd.js";import"./tone-BWNjRQgH.js";const A={C:{name:"C Shape",description:"Based on the open C chord. Root on the 5th (A) string. Requires a stretch when barred.",rootString:1,baseKey:"C",chordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:-1},{string:3,fretOffset:-3},{string:4,fretOffset:-2},{string:5,fretOffset:-3}],minorChordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:-2},{string:3,fretOffset:-3},{string:4,fretOffset:-2},{string:5,fretOffset:-4}],scalePattern:[[0,-3],[0,-2],[1,-3],[1,-1],[1,0],[2,-3],[2,-1],[2,0],[3,-3],[3,-1],[3,1],[4,-3],[4,-2],[4,0],[5,-3],[5,-2],[5,0]],minorScalePattern:[[0,-2],[0,0],[1,-2],[1,0],[1,2],[2,-3],[2,-2],[2,0],[3,-3],[3,-2],[3,0],[4,-2],[4,0],[4,1],[5,-2],[5,0],[5,1]]},A:{name:"A Shape",description:"Based on the open A chord. Root on the 5th (A) string. Most common barre shape.",rootString:1,baseKey:"A",chordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:2},{string:3,fretOffset:2},{string:4,fretOffset:2},{string:5,fretOffset:0}],minorChordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:2},{string:3,fretOffset:2},{string:4,fretOffset:1},{string:5,fretOffset:0}],scalePattern:[[0,0],[0,2],[0,4],[1,0],[1,2],[1,4],[2,0],[2,2],[2,4],[3,1],[3,2],[3,4],[4,0],[4,2],[4,3],[5,0],[5,2],[5,4]],minorScalePattern:[[0,0],[0,1],[0,3],[1,0],[1,2],[1,3],[2,0],[2,2],[2,3],[3,0],[3,2],[3,4],[4,0],[4,1],[4,3],[5,0],[5,1],[5,3]]},G:{name:"G Shape",description:"Based on the open G chord. Root on the 6th (low E) string. Requires stretching.",rootString:0,baseKey:"G",chordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:-1},{string:2,fretOffset:-3},{string:3,fretOffset:-3},{string:4,fretOffset:-3},{string:5,fretOffset:0}],minorChordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:-2},{string:2,fretOffset:-3},{string:3,fretOffset:-3},{string:4,fretOffset:-4},{string:5,fretOffset:0}],scalePattern:[[0,-3],[0,-1],[0,0],[1,-3],[1,-1],[1,0],[2,-3],[2,-1],[2,1],[3,-3],[3,-1],[3,1],[4,-3],[4,-2],[4,0],[5,-3],[5,-1],[5,0]],minorScalePattern:[[0,-2],[0,0],[0,2],[1,-3],[1,-2],[1,0],[2,-3],[2,-2],[2,0],[3,-3],[3,-1],[3,0],[4,-2],[4,0],[4,1],[5,-2],[5,0],[5,2]]},E:{name:"E Shape",description:"Based on the open E chord. Root on the 6th (low E) string. The most common barre chord.",rootString:0,baseKey:"E",chordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:2},{string:2,fretOffset:2},{string:3,fretOffset:1},{string:4,fretOffset:0},{string:5,fretOffset:0}],minorChordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:2},{string:2,fretOffset:2},{string:3,fretOffset:0},{string:4,fretOffset:0},{string:5,fretOffset:0}],scalePattern:[[0,0],[0,2],[0,4],[1,0],[1,2],[1,4],[2,1],[2,2],[2,4],[3,1],[3,2],[3,4],[4,0],[4,2],[4,4],[5,0],[5,2],[5,4]],minorScalePattern:[[0,0],[0,2],[0,3],[1,0],[1,2],[1,3],[2,0],[2,2],[2,4],[3,0],[3,2],[3,4],[4,0],[4,1],[4,3],[5,0],[5,2],[5,3]]},D:{name:"D Shape",description:"Based on the open D chord. Root on the 4th (D) string. Great for higher voicings.",rootString:2,baseKey:"D",chordPositions:[{string:2,fretOffset:0},{string:3,fretOffset:2},{string:4,fretOffset:3},{string:5,fretOffset:2}],minorChordPositions:[{string:2,fretOffset:0},{string:3,fretOffset:2},{string:4,fretOffset:3},{string:5,fretOffset:1}],scalePattern:[[1,0],[1,2],[1,4],[2,0],[2,2],[2,4],[3,0],[3,2],[3,4],[4,0],[4,2],[4,3],[5,0],[5,2],[5,3]],minorScalePattern:[[1,0],[1,1],[1,3],[2,0],[2,2],[2,3],[3,0],[3,2],[3,3],[4,1],[4,3],[4,5],[5,0],[5,1],[5,3]]}},v=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],ae=({exercise:n})=>{const{stringCount:C,setHighlightedPositions:p,setSecondaryHighlightedPositions:u,setRootNote:k,clearHighlights:w}=Q(),{droneConfig:G,setDroneConfig:H,isDroneActive:O,setDroneActive:P}=U(),{isActive:R}=V(),N=C===7?1:0,[d,c]=f.useState("C"),[h,I]=f.useState("C"),[g,i]=f.useState("major"),[x,$]=f.useState(!0),[y,q]=f.useState(!1),[D,z]=f.useState(!0),[E,Y]=f.useState(!1);f.useEffect(()=>{n.id==="caged-1"?(c("C"),i("major")):n.id==="caged-2"?(c("A"),i("major")):n.id==="caged-3"?(c("G"),i("major")):n.id==="caged-4"?(c("E"),i("major")):n.id==="caged-5"?(c("D"),i("major")):n.id==="caged-6"?i("major"):n.id==="caged-7"?(c("C"),i("minor")):n.id==="caged-8"?(c("A"),i("minor")):n.id==="caged-9"?(c("G"),i("minor")):n.id==="caged-10"?(c("E"),i("minor")):n.id==="caged-11"?(c("D"),i("minor")):n.id==="caged-12"&&i("minor")},[n.id]);const _=t=>{const s=A[t],a=v.indexOf(h),r=v.indexOf(s.baseKey),o=(a-r+12)%12;let l=0;return t==="C"&&(l=3),t==="G"&&(l=3),l+o},M=t=>{const s=A[t],a=_(t),r=[],o=[],l=g==="minor"?s.minorChordPositions:s.chordPositions,S=g==="minor"?s.minorScalePattern:s.scalePattern;return l.forEach(m=>{const b=a+m.fretOffset,j=m.string+N;b>=0&&b<=22&&j<C&&r.push({string:j,fret:b})}),S.forEach(([m,b])=>{const j=a+b,T=m+N;j>=0&&j<=22&&T<C&&o.push({string:T,fret:j})}),{chord:r,scale:o}};f.useEffect(()=>{if(R){if(E){const t=["C","A","G","E","D"],s=[],a=[];for(const r of t){const{chord:o,scale:l}=M(r);x&&y?r===d?(s.push(...o),l.forEach(S=>{o.some(m=>m.string===S.string&&m.fret===S.fret)||s.push(S)})):a.push(...o,...l):x?r===d?s.push(...o):a.push(...o):y&&(r===d?s.push(...l):a.push(...l))}p(s),u(a)}else{const{chord:t,scale:s}=M(d);if(x&&y){p(t);const a=s.filter(r=>!t.some(o=>o.string===r.string&&o.fret===r.fret));u(a)}else x?(p(t),u([])):y?(p(s),u([])):(p([]),u([]))}k(D?W(h):null)}},[d,h,g,x,y,D,E,R,p,u,k,N,C]),f.useEffect(()=>()=>{w(),O&&(F(),P(!1))},[w,O,P]);const J=async()=>{await B(),O?(F(),P(!1)):(H({note:h,octave:2}),Z({note:h,octave:2,volume:G.volume,waveform:G.waveform}),P(!0))},L=async()=>{await B();const t=48+v.indexOf(h),s=t+(g==="minor"?3:4),a=t+7,r=o=>`${v[o%12]}${Math.floor(o/12)-1}`;ee([r(t),r(s),r(a)],{duration:2,velocity:.6})},K=A[d];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Scale Type"}),e.jsx("div",{className:"flex gap-2",children:["major","minor"].map(t=>e.jsx("button",{onClick:()=>i(t),className:`flex-1 py-2 rounded-lg font-medium transition-all ${g===t?"btn-primary":""}`,style:g!==t?{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"}:{},children:t==="major"?"Major":"Minor"},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"CAGED Shape"}),e.jsx("div",{className:"flex gap-2",children:["C","A","G","E","D"].map(t=>e.jsx("button",{onClick:()=>c(t),className:`flex-1 py-2 rounded-lg font-bold transition-all ${d===t?"btn-primary":""}`,style:d!==t?{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"}:{},children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key"}),e.jsx("select",{value:h,onChange:t=>I(t.target.value),className:"w-full px-3 py-2 rounded-lg",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)"},children:v.map(t=>e.jsxs("option",{value:t,children:[t," ",g==="major"?"Major":"Minor"]},t))})]})]}),e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("h4",{className:"font-medium mb-2",style:{color:"var(--accent-primary)"},children:[K.name," - ",h," ",g==="major"?"Major":"Minor"]}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:K.description})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:t=>$(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show Chord"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:t=>q(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show Scale"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D,onChange:t=>z(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Highlight Roots"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:t=>Y(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show All Shapes"})]}),e.jsx(te,{})]}),e.jsx("div",{className:"card p-4",children:e.jsx(X,{interactive:!0})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:J,className:O?"btn-danger":"btn-success",children:O?"‚èπ Stop Drone":"‚ñ∂ Play Drone"}),e.jsx("button",{onClick:L,className:"btn-secondary",children:"üéµ Play Chord"})]}),e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text-primary)"},children:"Practice Tips"}),e.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",style:{color:"var(--text-secondary)"},children:[e.jsx("li",{children:"Play the chord shape first, then find the scale notes around it"}),e.jsx("li",{children:"Identify the Root (red), 3rd, and 5th within the shape"}),e.jsx("li",{children:"Practice transitioning to the next CAGED shape up the neck"}),e.jsx("li",{children:"Try improvising using only notes within this position"}),e.jsx("li",{children:"Say the note names aloud as you play"})]})]}),e.jsx(se,{exerciseId:n.id,exerciseType:n.type})]})};export{ae as default};
