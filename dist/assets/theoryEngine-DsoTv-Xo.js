import{t as g,v as S,w as l,x as b,y as v,z as A,A as z,B}from"./index-CrA8PCs2.js";var L=_((t,r)=>[t[0]-r[0],t[1]-r[1]]);function _(t){return(r,o)=>{const n=g(r).coord,e=g(o).coord;if(n&&e){const a=t(n,e);return S(a).name}}}var D={empty:!0,name:"",symbol:"",root:"",bass:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function w(t){const[r,o,n,e]=A(t);return r===""?N("",t):r==="A"&&e==="ug"?N("","aug"):N(r+o,n+e)}function N(t,r){const o=r.split("/");if(o.length===1)return[t,o[0],""];const[n,e,a,u]=A(o[1]);return n!==""&&a===""&&u===""?[t,o[0],n+e]:[t,r,""]}function G(t){if(Array.isArray(t))return h(t[1]||"",t[0],t[2]);if(t==="")return D;{const[r,o,n]=w(t),e=h(o,r,n);return e.empty?h(t):e}}function h(t,r,o){const n=z(t),e=l(r||""),a=l(o||"");if(n.empty||r&&e.empty||o&&a.empty)return D;const u=b(e.pc,a.pc),m=n.intervals.indexOf(u),p=m>=0,d=p?a:l(""),f=m===-1?NaN:m+1,y=a.pc&&a.pc!==e.pc,s=Array.from(n.intervals);if(p)for(let c=1;c<f;c++){const O=s[0][0],I=s[0][1],C=parseInt(O,10)+7;s.push(`${C}${I}`),s.shift()}else if(y){const c=L(b(e.pc,a.pc),"8P");c&&s.unshift(c)}const $=e.empty?[]:s.map(c=>v(e.pc,c));t=n.aliases.indexOf(t)!==-1?t:n.aliases[0];const x=`${e.empty?"":e.pc}${t}${p&&f>1?"/"+d.pc:y?"/"+a.pc:""}`,E=`${r?e.pc+" ":""}${n.name}${p&&f>1?" over "+d.pc:y?" over "+a.pc:""}`;return{...n,name:E,symbol:x,tonic:e.pc,type:n.name,root:d.pc,bass:y?a.pc:"",intervals:s,rootDegree:f,notes:$}}var k={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function F(t){if(typeof t!="string")return["",""];const r=t.indexOf(" "),o=l(t.substring(0,r));if(o.empty){const e=l(t);return e.empty?["",t.toLowerCase()]:[e.name,""]}const n=t.substring(o.name.length+1).toLowerCase();return[o.name,n.length?n:""]}function M(t){const r=Array.isArray(t)?t:F(t),o=l(r[0]).name,n=B(r[1]);if(n.empty)return k;const e=n.name,a=o?n.intervals.map(m=>v(o,m)):[],u=o?o+" "+e:e;return{...n,name:u,type:e,tonic:o,notes:a}}function j(t,r){return M(`${t} ${r}`).notes}const H=[{name:"ionian",displayName:"Ionian (Major)",characteristicNote:"M7",characteristicDegree:6},{name:"dorian",displayName:"Dorian",characteristicNote:"6",characteristicDegree:5},{name:"phrygian",displayName:"Phrygian",characteristicNote:"b2",characteristicDegree:1},{name:"lydian",displayName:"Lydian",characteristicNote:"#4",characteristicDegree:3},{name:"mixolydian",displayName:"Mixolydian",characteristicNote:"b7",characteristicDegree:6},{name:"aeolian",displayName:"Aeolian (Natural Minor)",characteristicNote:"b6",characteristicDegree:5},{name:"locrian",displayName:"Locrian",characteristicNote:"b5",characteristicDegree:4},{name:"harmonic minor",displayName:"Harmonic Minor",characteristicNote:"M7",characteristicDegree:6},{name:"melodic minor",displayName:"Melodic Minor (Ascending)",characteristicNote:"M6 & M7",characteristicDegree:5},{name:"blues",displayName:"Blues",characteristicNote:"b5 (blue note)",characteristicDegree:3}];function J(t,r){return M(`${t} ${r}`).notes}function U(t){return G(t).notes}const i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],R=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],T={1:[0,4,7],2:[0,3,7],3:[0,3,7],4:[0,4,7],5:[0,4,7],6:[0,3,7],7:[0,3,6]},P=[0,0,2,4,5,7,9,11];function V(t,r){const o=i.indexOf(t)!==-1?i.indexOf(t):R.indexOf(t);return r.map(n=>{if(typeof n=="number"){const e=P[n],a=(o+e)%12;return{root:i[a],intervals:T[n]}}if(n==="b7"){const e=(o+10)%12;return{root:i[e],intervals:[0,4,7]}}if(n==="4m"){const e=(o+5)%12;return{root:i[e],intervals:[0,3,7]}}return{root:i[o],intervals:[0,4,7]}})}export{H as M,i as N,j as a,V as b,U as c,J as g};
