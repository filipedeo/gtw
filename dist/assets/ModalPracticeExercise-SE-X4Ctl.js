import{c as g,d as D,t as E,u as A,e as M,f as P,r as l,h as L,s as v,j as e,i as z,k as T}from"./index-DtFSbDgp.js";import"./tone-xN27a9Rt.js";var F={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function G(s){if(typeof s!="string")return["",""];const i=s.indexOf(" "),r=g(s.substring(0,i));if(r.empty){const n=g(s);return n.empty?["",s.toLowerCase()]:[n.name,""]}const a=s.substring(r.name.length+1).toLowerCase();return[r.name,a.length?a:""]}function H(s){const i=Array.isArray(s)?s:G(s),r=g(i[0]).name,a=D(i[1]);if(a.empty)return F;const n=a.name,m=r?a.intervals.map(d=>E(r,d)):[],p=r?r+" "+n:n;return{...a,name:p,type:n,tonic:r,notes:m}}const N=[{name:"ionian",displayName:"Ionian (Major)",characteristicNote:"M7"},{name:"dorian",displayName:"Dorian",characteristicNote:"6"},{name:"phrygian",displayName:"Phrygian",characteristicNote:"b2"},{name:"lydian",displayName:"Lydian",characteristicNote:"#4"},{name:"mixolydian",displayName:"Mixolydian",characteristicNote:"b7"},{name:"aeolian",displayName:"Aeolian (Natural Minor)",characteristicNote:"b6"},{name:"locrian",displayName:"Locrian",characteristicNote:"b5"}];function K(s,i){return H(`${s} ${i}`).notes}const O=({exercise:s})=>{const{stringCount:i,tuning:r,setHighlightedPositions:a,setRootNote:n,clearHighlights:m}=A(),{droneConfig:p,setDroneConfig:d,isDroneActive:c,setDroneActive:h}=M(),{isActive:x}=P(),[u,f]=l.useState("dorian"),[o,b]=l.useState("A"),[j,C]=l.useState(!0),k=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],y=N.find(t=>t.name===u);l.useEffect(()=>{if(x)try{const t=K(o,u);if(t&&t.length>0){const w=L(t,r,i,12);a(w),n(o)}}catch(t){console.error("Error getting mode notes:",t)}},[u,o,x,i,r,a,n]),l.useEffect(()=>{c&&d({note:o,octave:2})},[o,c,d]),l.useEffect(()=>()=>{m(),c&&(v(),h(!1))},[m,c,h]);const S=async()=>{await z(),c?(v(),h(!1)):(d({note:o,octave:2}),T({...p,note:o,octave:2}),h(!0))};return x?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Mode"}),e.jsx("select",{value:u,onChange:t=>f(t.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",style:{borderColor:"var(--border-color)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:N.map(t=>e.jsx("option",{value:t.name,children:t.displayName},t.name))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key"}),e.jsx("select",{value:o,onChange:t=>b(t.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",style:{borderColor:"var(--border-color)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:k.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),y&&e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)",border:"1px solid var(--accent-primary)"},children:[e.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--accent-primary)"},children:y.displayName}),e.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[e.jsx("strong",{children:"Characteristic Note:"})," ",y.characteristicNote]}),e.jsx("p",{className:"text-sm mt-2",style:{color:"var(--text-secondary)"},children:"Focus on emphasizing the characteristic note in your playing. This is what gives the mode its unique sound."})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Drone"}),e.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Play a ",o," drone to practice over"]})]}),e.jsx("button",{onClick:S,className:"px-6 py-2 rounded-lg font-medium transition-colors text-white",style:{backgroundColor:c?"var(--error)":"var(--success)"},children:c?"Stop Drone":"Start Drone"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("label",{className:"flex items-center gap-2 text-sm",style:{color:"var(--text-primary)"},children:[e.jsx("input",{type:"checkbox",checked:j,onChange:t=>C(t.target.checked),className:"rounded"}),"Highlight characteristic note"]})}),e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)",border:"1px solid var(--warning)"},children:[e.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--warning)"},children:"Practice Tips"}),e.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",style:{color:"var(--text-secondary)"},children:[e.jsxs("li",{children:["Start and end your phrases on the root note (",o,")"]}),e.jsxs("li",{children:["Emphasize the characteristic note (",y?.characteristicNote,")"]}),e.jsx("li",{children:"Try playing the scale ascending and descending"}),e.jsx("li",{children:"Create short melodic phrases using the highlighted notes"}),e.jsx("li",{children:"Listen to how the mode sounds against the drone"})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:'Click "Start Exercise" to begin practicing modes.'}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:"You'll be able to select a mode and key, then practice with a drone backing."})]})};export{O as default};
//# sourceMappingURL=ModalPracticeExercise-SE-X4Ctl.js.map
