import{u as Y,c as _,d as J,r as a,n as L,s as R,j as e,F as Q,i as M,f as U,h as V}from"./index-JYOpyFy1.js";import{D as W}from"./DisplayModeToggle-BZoGdttj.js";import"./tone-BDbzsNEa.js";const N={C:{name:"C Shape",description:"Based on the open C chord. Root on the 5th (A) string. Requires a stretch when barred.",rootString:1,baseKey:"C",chordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:-1},{string:3,fretOffset:-3},{string:4,fretOffset:-2},{string:5,fretOffset:-3}],minorChordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:-2},{string:3,fretOffset:-3},{string:4,fretOffset:-2},{string:5,fretOffset:-4}],scalePattern:[[0,-3],[0,-2],[1,-3],[1,-1],[1,0],[2,-3],[2,-1],[2,0],[3,-3],[3,-1],[3,1],[4,-3],[4,-2],[4,0],[5,-3],[5,-2],[5,0]],minorScalePattern:[[0,-2],[0,0],[1,-2],[1,0],[1,2],[2,-3],[2,-2],[2,0],[3,-3],[3,-2],[3,0],[4,-2],[4,0],[4,1],[5,-2],[5,0],[5,1]]},A:{name:"A Shape",description:"Based on the open A chord. Root on the 5th (A) string. Most common barre shape.",rootString:1,baseKey:"A",chordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:2},{string:3,fretOffset:2},{string:4,fretOffset:2},{string:5,fretOffset:0}],minorChordPositions:[{string:1,fretOffset:0},{string:2,fretOffset:2},{string:3,fretOffset:2},{string:4,fretOffset:1},{string:5,fretOffset:0}],scalePattern:[[0,0],[0,2],[0,4],[1,0],[1,2],[1,4],[2,0],[2,2],[2,4],[3,1],[3,2],[3,4],[4,0],[4,2],[4,3],[5,0],[5,2],[5,4]],minorScalePattern:[[0,0],[0,1],[0,3],[1,0],[1,2],[1,3],[2,0],[2,2],[2,3],[3,0],[3,2],[3,4],[4,0],[4,1],[4,3],[5,0],[5,1],[5,3]]},G:{name:"G Shape",description:"Based on the open G chord. Root on the 6th (low E) string. Requires stretching.",rootString:0,baseKey:"G",chordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:-1},{string:2,fretOffset:-3},{string:3,fretOffset:-3},{string:4,fretOffset:-3},{string:5,fretOffset:0}],minorChordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:-2},{string:2,fretOffset:-3},{string:3,fretOffset:-3},{string:4,fretOffset:-4},{string:5,fretOffset:0}],scalePattern:[[0,-3],[0,-1],[0,0],[1,-3],[1,-1],[1,0],[2,-3],[2,-1],[2,1],[3,-3],[3,-1],[3,1],[4,-3],[4,-2],[4,0],[5,-3],[5,-1],[5,0]],minorScalePattern:[[0,-2],[0,0],[0,2],[1,-3],[1,-2],[1,0],[2,-3],[2,-2],[2,0],[3,-3],[3,-1],[3,0],[4,-2],[4,0],[4,1],[5,-2],[5,0],[5,2]]},E:{name:"E Shape",description:"Based on the open E chord. Root on the 6th (low E) string. The most common barre chord.",rootString:0,baseKey:"E",chordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:2},{string:2,fretOffset:2},{string:3,fretOffset:1},{string:4,fretOffset:0},{string:5,fretOffset:0}],minorChordPositions:[{string:0,fretOffset:0},{string:1,fretOffset:2},{string:2,fretOffset:2},{string:3,fretOffset:0},{string:4,fretOffset:0},{string:5,fretOffset:0}],scalePattern:[[0,0],[0,2],[0,4],[1,0],[1,2],[1,4],[2,1],[2,2],[2,4],[3,1],[3,2],[3,4],[4,0],[4,2],[4,4],[5,0],[5,2],[5,4]],minorScalePattern:[[0,0],[0,2],[0,3],[1,0],[1,2],[1,3],[2,0],[2,2],[2,4],[3,0],[3,2],[3,4],[4,0],[4,1],[4,3],[5,0],[5,2],[5,3]]},D:{name:"D Shape",description:"Based on the open D chord. Root on the 4th (D) string. Great for higher voicings.",rootString:2,baseKey:"D",chordPositions:[{string:2,fretOffset:0},{string:3,fretOffset:2},{string:4,fretOffset:3},{string:5,fretOffset:2}],minorChordPositions:[{string:2,fretOffset:0},{string:3,fretOffset:2},{string:4,fretOffset:3},{string:5,fretOffset:1}],scalePattern:[[1,0],[1,2],[1,4],[2,0],[2,2],[2,4],[3,0],[3,2],[3,4],[4,0],[4,2],[4,3],[5,0],[5,2],[5,3]],minorScalePattern:[[1,0],[1,1],[1,3],[2,0],[2,2],[2,3],[3,0],[3,2],[3,3],[4,1],[4,3],[4,5],[5,0],[5,1],[5,3]]}},j=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],te=({exercise:s})=>{const{stringCount:O,setHighlightedPositions:u,setSecondaryHighlightedPositions:x,setRootNote:D,clearHighlights:E}=Y(),{droneConfig:k,setDroneConfig:K,isDroneActive:y,setDroneActive:b}=_(),{isActive:A}=J(),C=O===7?1:0,[c,o]=a.useState("C"),[f,T]=a.useState("C"),[l,r]=a.useState("major"),[S,B]=a.useState(!0),[v,F]=a.useState(!1),[P,H]=a.useState(!0);a.useEffect(()=>{s.id==="caged-1"?(o("C"),r("major")):s.id==="caged-2"?(o("A"),r("major")):s.id==="caged-3"?(o("G"),r("major")):s.id==="caged-4"?(o("E"),r("major")):s.id==="caged-5"?(o("D"),r("major")):s.id==="caged-6"?r("major"):s.id==="caged-7"?(o("C"),r("minor")):s.id==="caged-8"?(o("A"),r("minor")):s.id==="caged-9"?(o("G"),r("minor")):s.id==="caged-10"?(o("E"),r("minor")):s.id==="caged-11"?(o("D"),r("minor")):s.id==="caged-12"&&r("minor")},[s.id]);const $=()=>{const t=N[c],m=j.indexOf(f),d=j.indexOf(t.baseKey),n=(m-d+12)%12;let h=0;return c==="C"&&(h=3),c==="G"&&(h=3),h+n};a.useEffect(()=>{if(!A)return;const t=N[c],m=$(),d=[],n=[],h=l==="minor"?t.minorChordPositions:t.chordPositions,z=l==="minor"?t.minorScalePattern:t.scalePattern;if(h.forEach(p=>{const g=m+p.fretOffset,i=p.string+C;g>=0&&g<=22&&i<O&&d.push({string:i,fret:g})}),z.forEach(([p,g])=>{const i=m+g,G=p+C;i>=0&&i<=22&&G<O&&n.push({string:G,fret:i})}),S&&v){u(d);const p=n.filter(g=>!d.some(i=>i.string===g.string&&i.fret===g.fret));x(p)}else S?(u(d),x([])):v?(u(n),x([])):(u([]),x([]));D(P?L(f):null)},[c,f,l,S,v,P,A,u,x,D,C,O]),a.useEffect(()=>()=>{E(),y&&(R(),b(!1))},[E,y,b]);const I=async()=>{await M(),y?(R(),b(!1)):(K({note:f,octave:2}),U({note:f,octave:2,volume:k.volume,waveform:k.waveform}),b(!0))},q=async()=>{await M();const t=48+j.indexOf(f),m=t+(l==="minor"?3:4),d=t+7,n=h=>`${j[h%12]}${Math.floor(h/12)-1}`;V([n(t),n(m),n(d)],{duration:2,velocity:.6})},w=N[c];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Scale Type"}),e.jsx("div",{className:"flex gap-2",children:["major","minor"].map(t=>e.jsx("button",{onClick:()=>r(t),className:`flex-1 py-2 rounded-lg font-medium transition-all ${l===t?"btn-primary":""}`,style:l!==t?{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"}:{},children:t==="major"?"Major":"Minor"},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"CAGED Shape"}),e.jsx("div",{className:"flex gap-2",children:["C","A","G","E","D"].map(t=>e.jsx("button",{onClick:()=>o(t),className:`flex-1 py-2 rounded-lg font-bold transition-all ${c===t?"btn-primary":""}`,style:c!==t?{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"}:{},children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key"}),e.jsx("select",{value:f,onChange:t=>T(t.target.value),className:"w-full px-3 py-2 rounded-lg",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",border:"1px solid var(--border-color)"},children:j.map(t=>e.jsxs("option",{value:t,children:[t," ",l==="major"?"Major":"Minor"]},t))})]})]}),e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"rgba(59, 130, 246, 0.1)"},children:[e.jsxs("h4",{className:"font-medium mb-2",style:{color:"var(--accent-primary)"},children:[w.name," - ",f," ",l==="major"?"Major":"Minor"]}),e.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:w.description})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:t=>B(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show Chord"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:t=>F(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Show Scale"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P,onChange:t=>H(t.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Highlight Roots"})]}),e.jsx(W,{})]}),e.jsx("div",{className:"card p-4",children:e.jsx(Q,{interactive:!0})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:I,className:y?"btn-danger":"btn-success",children:y?"‚èπ Stop Drone":"‚ñ∂ Play Drone"}),e.jsx("button",{onClick:q,className:"btn-secondary",children:"üéµ Play Chord"})]}),e.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[e.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text-primary)"},children:"Practice Tips"}),e.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",style:{color:"var(--text-secondary)"},children:[e.jsx("li",{children:"Play the chord shape first, then find the scale notes around it"}),e.jsx("li",{children:"Identify the Root (red), 3rd, and 5th within the shape"}),e.jsx("li",{children:"Practice transitioning to the next CAGED shape up the neck"}),e.jsx("li",{children:"Try improvising using only notes within this position"}),e.jsx("li",{children:"Say the note names aloud as you play"})]})]})]})};export{te as default};
